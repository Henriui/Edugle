scalar Date

# Chatroom with a list of users and messages
type Chat {
	# Unique identifier for the chat generated by the database
	id: ID!
	# Date the chat was created
	created_date: Date!
	# List of users in the chat
	users: [UserInfo!]!
	# List of messages in the chat
	messages: [Message]
}

# Input for creating a chat
input CreateChatInput {
	# List of users about to chat
	users: [ID!]!
}

type Query {
	# Returns a list of all chats in the database
	chats: [Chat]
	# Returns all chats for a given user
	chatByUser(user_id: ID!): Chat
}

type Mutation {
	joinChat(chatId: ID!, token: String!): Chat
	# Creates a new chat
	createChat(chat: CreateChatInput): Chat
	# Deletes a chat corresponding to the given id
	deleteChatAsAdmin(id: ID!, admin: AdminWithTokenInput): Chat
}
